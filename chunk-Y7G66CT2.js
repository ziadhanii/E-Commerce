import{a as K,c as Q,g as X,l as Y}from"./chunk-JYMT2BJ4.js";import{a as U}from"./chunk-I255PNKG.js";import{a as z}from"./chunk-JOHAJBL5.js";import{a as G,b as q,c as J}from"./chunk-G22HZIQJ.js";import{l as ee}from"./chunk-54VFKT4Q.js";import{a as R}from"./chunk-DZXZPCOG.js";import{a as Z}from"./chunk-7PHTMAVF.js";import{j as $}from"./chunk-TLZ2ZCQ4.js";import{Ab as h,Ac as M,Bc as A,Cb as x,Db as c,Hc as N,Ic as B,La as y,Lb as F,Mb as p,Nb as H,Ob as v,Pa as n,Qb as k,Rb as L,Sb as V,Ua as T,Ub as W,Va as _,Vb as w,_a as I,_b as C,ac as b,bb as P,bc as j,da as f,db as d,ea as g,ob as s,qb as O,vb as o,wb as a,xb as u,yb as D,zb as E}from"./chunk-BLPEOKRJ.js";var S=class t{transform(i,e){return i?i.filter(r=>r.title.toLowerCase().includes(e.toLowerCase())):[]}static \u0275fac=function(e){return new(e||t)};static \u0275pipe=P({name:"search",type:t,pure:!0})};var ne=t=>["/categoryDetails",t],oe=t=>["/productdetails",t],ae=()=>[1,2,3,4,5];function se(t,i){t&1&&u(0,"img",12)}function ce(t,i){t&1&&u(0,"img",13)}function me(t,i){t&1&&u(0,"img",14)}function le(t,i){if(t&1&&(o(0,"div",17),u(1,"img",18),o(2,"h3",19),p(3),a()()),t&2){let e=c().$implicit;s("routerLink",w(5,ne,e._id)),n(),s("src",e.image,y)("alt",e.name)("title",e.name),n(2),H(e.name)}}function pe(t,i){t&1&&(D(0),d(1,le,4,7,"ng-template",6),E())}function de(t,i){if(t&1&&(o(0,"section",2)(1,"h2"),p(2,"Popular Categories"),a(),o(3,"owl-carousel-o",15),d(4,pe,2,0,"ng-container",16),a()()),t&2){let e=c();n(3),s("options",e.categoryOptions),n(),s("ngForOf",e.categories)}}function ue(t,i){if(t&1){let e=h();o(0,"i",42),x("click",function(){f(e);let m=c().$implicit,l=c(2);return g(l.removeProductFromWishlist(m._id))}),a()}}function _e(t,i){if(t&1){let e=h();o(0,"i",43),x("click",function(){f(e);let m=c().$implicit,l=c(2);return g(l.addProductToWishlist(m._id))}),a()}}function fe(t,i){if(t&1&&u(0,"i",44),t&2){let e=i.$implicit,r=c().$implicit;O("rating-color",r.ratingsAverage>=e)}}function ge(t,i){if(t&1){let e=h();o(0,"div",27)(1,"div",28),d(2,ue,1,0,"i",29)(3,_e,1,0,"i",30),o(4,"header",31),u(5,"img",32),o(6,"div",33)(7,"h3",34),p(8),C(9,"cuttext"),a(),o(10,"h4",35),p(11),a(),o(12,"div",36)(13,"span",37),p(14),a(),o(15,"span",38),d(16,fe,1,2,"i",39),p(17),a()()()(),o(18,"footer")(19,"div",40)(20,"button",41,0),x("click",function(){let m=f(e).$implicit,l=F(21),ie=c(2);return g(ie.addProduct(m._id,l))}),p(22," + Add To Cart "),a()()()()()}if(t&2){let e=i.$implicit,r=c(2);n(2),s("ngIf",r.wishListData.includes(e._id)),n(),s("ngIf",!r.wishListData.includes(e._id)),n(),s("routerLink",w(14,oe,e._id)),n(),s("src",e.imageCover,y)("alt",e.title)("title",e.title),n(3),v(" ",b(9,11,e.title,3)," "),n(3),v(" ",e.category.name," "),n(3),v(" ",e.price," EGP "),n(2),s("ngForOf",W(16,ae)),n(),v(" ",e.ratingsAverage," ")}}function he(t,i){if(t&1){let e=h();o(0,"section",20)(1,"div",1)(2,"div",21)(3,"h2",22),p(4,"Popular Products"),a(),o(5,"div",23)(6,"input",24),V("ngModelChange",function(m){f(e);let l=c();return L(l.search,m)||(l.search=m),g(m)}),a()()(),o(7,"div",25),d(8,ge,23,17,"div",26),C(9,"search"),C(10,"slice"),a()()()}if(t&2){let e=c();n(6),k("ngModel",e.search),n(2),s("ngForOf",j(10,5,b(9,2,e.products,e.search),0,18))}}var te=class t{constructor(i,e,r,m,l){this.productService=i;this.cartService=e;this.toastr=r;this.renderer=m;this.wishlistService=l}products=[];categories=[];wishListData=[];search="";ngOnInit(){this.productService.getProducts().subscribe({next:i=>{console.log(i.data),this.products=i.data}}),this.productService.getCategories().subscribe({next:i=>{this.categories=i.data}}),this.wishlistService.getWishlist().subscribe({next:i=>{let e=i.data.map(r=>r._id);this.wishListData=e}})}addProduct(i,e){this.renderer.setAttribute(e,"disabled","true"),this.cartService.addToCart(i).subscribe({next:r=>{this.toastr.success(r.message),this.renderer.removeAttribute(e,"disabled"),this.cartService.cartNumber.next(r.numOfCartItems)},error:r=>{this.renderer.removeAttribute(e,"disabled")}})}addProductToWishlist(i){this.wishlistService.addToWishlist(i).subscribe({next:e=>{this.toastr.success(e.message),this.wishListData=e.data}})}removeProductFromWishlist(i){this.wishlistService.removeFromWishlist(i).subscribe({next:e=>{this.toastr.success(e.message),this.wishListData=e.data}})}categoryOptions={loop:!0,mouseDrag:!0,touchDrag:!0,pullDrag:!1,dots:!1,navSpeed:700,autoplay:!0,autoplayTimeout:4e3,autoplaySpeed:1e3,navText:['<i class="fa fa-chevron-left fa-2x"></i>','<i class="fa fa-chevron-right fa-2x"></i>'],responsive:{0:{items:2},400:{items:3},740:{items:4},940:{items:6}},nav:!0};mainSliderOptions={loop:!0,mouseDrag:!0,touchDrag:!0,pullDrag:!1,dots:!0,navSpeed:700,autoplay:!0,autoplayTimeout:5e3,autoplaySpeed:1e3,navText:["",""],items:1,nav:!1};static \u0275fac=function(e){return new(e||t)(_(Z),_(R),_(ee),_(T),_(z))};static \u0275cmp=I({type:t,selectors:[["app-home"]],decls:13,vars:3,consts:[["btnAdd",""],[1,"container"],[1,"py-4"],[1,"row","g-0"],[1,"col-md-9"],[3,"options"],["carouselSlide",""],[1,"col-md-3"],["height","200","src","assets/images/main-slider-1.jpeg","alt"," slide-1",1,"w-100"],["height","200","src","assets/images/main-slider-2.jpeg","alt"," slide-1",1,"w-100"],["class","py-4",4,"ngIf"],["class","py-5",4,"ngIf"],["height","400","src","assets/images/main-slider-1.jpeg","alt","slide-1"],["height","400","src","assets/images/main-slider-2.jpeg","alt","slide-2"],["height","400","src","assets/images/main-slider-3.jpeg","alt","slide-1"],["role","button",3,"options"],[4,"ngFor","ngForOf"],[3,"routerLink"],["height","300px",3,"src","alt","title"],[1,"h6","text-main","text-center"],[1,"py-5"],[1,"d-flex","justify-content-between","mb-4"],[1,"mb-4"],[1,"form-group","w-50"],["type","search","name","search","id","search","placeholder","Search for products...",1,"form-control",3,"ngModelChange","ngModel"],[1,"row","g-4"],["class","col-sm-6 col-md-4 col-xl-4",4,"ngFor","ngForOf"],[1,"col-sm-6","col-md-4","col-xl-4"],[1,"product","card","border-0","shadow-sm","h-100"],["class","fas fa-heart heart in-wishlist",3,"click",4,"ngIf"],["class","fas fa-heart heart hidden",3,"click",4,"ngIf"],["role","button",3,"routerLink"],[1,"card-img-top","rounded",3,"src","alt","title"],[1,"card-body","p-3"],[1,"h6","mb-1","text-truncate"],[1,"h6","text-main","mb-2"],[1,"d-flex","align-items-center","justify-content-between","small","pt-2"],[1,"text-main","fw-bold"],[1,"text-muted"],["class","fas fa-star me-1",3,"rating-color",4,"ngFor","ngForOf"],[1,"card-footer","bg-white","border-0","text-center"],[1,"main-btn","w-100","py-2",3,"click"],[1,"fas","fa-heart","heart","in-wishlist",3,"click"],[1,"fas","fa-heart","heart","hidden",3,"click"],[1,"fas","fa-star","me-1"]],template:function(e,r){e&1&&(o(0,"section",1)(1,"section",2)(2,"div",3)(3,"div",4)(4,"owl-carousel-o",5),d(5,se,1,0,"ng-template",6)(6,ce,1,0,"ng-template",6)(7,me,1,0,"ng-template",6),a()(),o(8,"div",7),u(9,"img",8)(10,"img",9),a()()(),d(11,de,5,2,"section",10)(12,he,11,9,"section",11),a()),e&2&&(n(4),s("options",r.mainSliderOptions),n(7),s("ngIf",r.categories.length>0),n(),s("ngIf",r.products.length>0))},dependencies:[B,M,A,N,U,J,q,G,$,S,Y,K,Q,X],encapsulation:2})};export{te as HomeComponent};
