import{a as j,b as M,c as N}from"./chunk-UEJMIP3X.js";import{l as V}from"./chunk-V663ZQKE.js";import{a as R}from"./chunk-MHDMHZ4C.js";import{a as k}from"./chunk-ZC3MJO6E.js";import{g as F}from"./chunk-K5OTZUKN.js";import{Ab as P,Ac as y,Bc as A,Cb as w,Db as p,Ic as E,La as C,Lb as O,Mb as c,Nb as m,Ob as f,Pa as o,Ua as D,Ub as T,Va as s,_a as b,da as _,db as l,ea as x,ob as d,qb as S,vb as n,wb as a,xb as v,yb as I,zb as h}from"./chunk-NGFRSXTT.js";var z=()=>[1,2,3,4,5];function B(i,e){if(i&1&&v(0,"img",18),i&2){let t=p().$implicit;d("src",t,C)}}function G(i,e){i&1&&(I(0),l(1,B,1,1,"ng-template",17),h())}function H(i,e){if(i&1&&v(0,"span",19),i&2){let t=e.$implicit,r=p(2);S("rating-color",r.productDetails.ratingsAverage>=t)}}function L(i,e){if(i&1){let t=P();n(0,"section",2)(1,"div",3)(2,"div",4)(3,"owl-carousel-o",5),l(4,G,2,0,"ng-container",6),a()(),n(5,"div",7)(6,"div",8)(7,"h2",9),c(8),a(),n(9,"p",10),c(10),a(),n(11,"span"),c(12),a(),n(13,"div",11)(14,"span",12),c(15),a(),n(16,"p",13),l(17,H,1,2,"span",14),c(18),a()(),n(19,"div",15)(20,"button",16,0),w("click",function(){_(t);let g=O(21),u=p();return x(u.addProduct(u.productDetails._id,g))}),c(22," + AddToCart"),a()()()()()()}if(i&2){let t=p();o(3),d("options",t.productDetailsOptions),o(),d("ngForOf",t.productDetails.images),o(4),m(t.productDetails.title),o(2),m(t.productDetails.description),o(2),m(t.productDetails.category.name),o(3),f(" ",t.productDetails.price," EGP "),o(2),d("ngForOf",T(8,z)),o(),f(" ",t.productDetails.ratingsAverage," ")}}var $=class i{constructor(e,t,r,g,u){this.activatedRoute=e;this.productService=t;this.renderer=r;this.cartService=g;this.toastr=u}productId="";productDetails={};ngOnInit(){this.activatedRoute.paramMap.subscribe({next:e=>{this.productId=e.get("id")}}),this.productService.getProduct(this.productId).subscribe({next:({data:e})=>{this.productDetails=e,console.log(e)}})}addProduct(e,t){this.renderer.setAttribute(t,"disabled","true"),this.cartService.addToCart(e).subscribe({next:r=>{console.log(r),this.toastr.success(r.message,"",{positionClass:"toast-top-right"}),this.renderer.removeAttribute(t,"disabled"),this.cartService.cartNumber.next(r.numOfCartItems)},error:r=>{this.renderer.removeAttribute(t,"disabled")}})}productDetailsOptions={loop:!0,mouseDrag:!0,touchDrag:!0,pullDrag:!1,dots:!1,navSpeed:700,navText:["",""],items:1,nav:!0};static \u0275fac=function(t){return new(t||i)(s(F),s(k),s(D),s(R),s(V))};static \u0275cmp=b({type:i,selectors:[["app-product-details"]],decls:1,vars:1,consts:[["btnAdd",""],["class","w-75 mx-auto rounded shadow p-3 mb-4",4,"ngIf"],[1,"w-75","mx-auto","rounded","shadow","p-3","mb-4"],[1,"row","align-items-center","g-4"],[1,"col-md-3"],[3,"options"],[4,"ngFor","ngForOf"],[1,"col-md-9"],[1,"position-relative","prod-details"],[1,"h5"],[1,"text-muted","small"],[1,"d-flex","align-items-center","justify-content-between","my-3"],[1,"small"],[1,"mb-0"],["class","fas fa-star font-sm ",3,"rating-color",4,"ngFor","ngForOf"],[1,"card-footer","bg-white","border-0","text-center"],[1,"main-btn","w-100",3,"click"],["carouselSlide",""],["alt","productDetails.title",1,"w-100",3,"src"],[1,"fas","fa-star","font-sm"]],template:function(t,r){t&1&&l(0,L,23,9,"section",1),t&2&&d("ngIf",r.productDetails)},dependencies:[N,M,j,E,y,A],encapsulation:2})};export{$ as ProductDetailsComponent};
