import{a as S}from"./chunk-GE77HIRG.js";import{a as I,b as d,c as R,d as T,e as P,f,h as N,i as q,j as M,m as A}from"./chunk-LE4QMA67.js";import{i as y}from"./chunk-K5OTZUKN.js";import{Bc as b,Cb as w,Db as c,Ic as F,Mb as m,Ob as C,Pa as l,Va as x,_a as E,db as p,ob as a,vb as n,wb as r,xb as g}from"./chunk-NGFRSXTT.js";function L(e,o){e&1&&(n(0,"p"),m(1,"Name is required."),r())}function D(e,o){e&1&&(n(0,"p"),m(1,"Minimum 3 characters."),r())}function V(e,o){e&1&&(n(0,"p"),m(1,"Maximum 20 characters allowed."),r())}function j(e,o){if(e&1&&(n(0,"div",20),p(1,L,2,0,"p",21)(2,D,2,0,"p",21)(3,V,2,0,"p",21),r()),e&2){let i,t,s,u=c();l(),a("ngIf",(i=u.registerForm.get("name"))==null?null:i.hasError("required")),l(),a("ngIf",(t=u.registerForm.get("name"))==null?null:t.hasError("minlength")),l(),a("ngIf",(s=u.registerForm.get("name"))==null?null:s.hasError("maxlength"))}}function z(e,o){e&1&&(n(0,"p"),m(1,"Email is required."),r())}function O(e,o){e&1&&(n(0,"p"),m(1,"Invalid email format."),r())}function Z(e,o){if(e&1&&(n(0,"div",20),p(1,z,2,0,"p",21)(2,O,2,0,"p",21),r()),e&2){let i,t,s=c();l(),a("ngIf",(i=s.registerForm.get("email"))==null?null:i.hasError("required")),l(),a("ngIf",(t=s.registerForm.get("email"))==null?null:t.hasError("email"))}}function $(e,o){e&1&&(n(0,"p"),m(1,"Password is required."),r())}function k(e,o){e&1&&(n(0,"p"),m(1,"At least 8 chars, 1 capital, and 1 number."),r())}function B(e,o){if(e&1&&(n(0,"div",20),p(1,$,2,0,"p",21)(2,k,2,0,"p",21),r()),e&2){let i,t,s=c();l(),a("ngIf",(i=s.registerForm.get("password"))==null?null:i.hasError("required")),l(),a("ngIf",(t=s.registerForm.get("password"))==null?null:t.hasError("pattern"))}}function H(e,o){e&1&&(n(0,"p"),m(1,"Please confirm your password."),r())}function J(e,o){e&1&&(n(0,"p"),m(1,"Passwords do not match."),r())}function K(e,o){if(e&1&&(n(0,"div",20),p(1,H,2,0,"p",21)(2,J,2,0,"p",21),r()),e&2){let i,t=c();l(),a("ngIf",(i=t.registerForm.get("rePassword"))==null?null:i.hasError("required")),l(),a("ngIf",t.registerForm.hasError("misMatch"))}}function Q(e,o){e&1&&(n(0,"p"),m(1,"Phone number is required."),r())}function U(e,o){e&1&&(n(0,"p"),m(1,"Invalid phone number format."),r())}function W(e,o){if(e&1&&(n(0,"div",20),p(1,Q,2,0,"p",21)(2,U,2,0,"p",21),r()),e&2){let i,t,s=c();l(),a("ngIf",(i=s.registerForm.get("phone"))==null?null:i.hasError("required")),l(),a("ngIf",(t=s.registerForm.get("phone"))==null?null:t.hasError("pattern"))}}function X(e,o){e&1&&g(0,"i",22)}function Y(e,o){if(e&1&&(n(0,"div",23),m(1),r()),e&2){let i=c();l(),C(" ",i.errorMessage," ")}}var G=class e{constructor(o,i){this.authService=o;this.router=i}errorMessage="";isLoding=!1;registerForm=new P({name:new f("",[d.required,d.minLength(3),d.maxLength(20)]),email:new f("",[d.required,d.email]),password:new f("",[d.required,d.pattern(/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[a-zA-Z]).{8,}$/)]),rePassword:new f(""),phone:new f("",[d.required,d.pattern(/^01[0125][0-9]{8}$/)])},{validators:[this.confirmPassword]});confirmPassword(o){let i=o.get("password"),t=o.get("rePassword");i?.value==""?t?.setErrors({required:!0}):i?.value!=t?.value&&t?.setErrors({misMatch:!0})}handleForm(){let o=this.registerForm.value;this.isLoding=!0,this.registerForm.valid==!0&&this.authService.register(o).subscribe({next:i=>{i.message=="success"&&(this.isLoding=!1,this.router.navigate(["/login"]))},error:i=>{this.errorMessage=i.error.message,this.isLoding=!1}})}static \u0275fac=function(i){return new(i||e)(x(S),x(y))};static \u0275cmp=E({type:e,selectors:[["app-register"]],decls:35,vars:9,consts:[[1,"container","w-75","mx-auto","my-5","shadow-lg","rounded","p-5","bg-light"],[1,"mb-4","text-center","text-main"],[1,"needs-validation",3,"ngSubmit","formGroup"],[1,"mb-3"],["for","name",1,"form-label","fw-bold"],["type","text","id","name","formControlName","name","placeholder","Enter your name",1,"form-control"],["class","text-danger small mt-1",4,"ngIf"],["for","email",1,"form-label","fw-bold"],["type","email","id","email","formControlName","email","placeholder","Enter your email",1,"form-control"],["for","password",1,"form-label","fw-bold"],["type","password","id","password","formControlName","password","placeholder","Enter your password",1,"form-control"],["for","rePassword",1,"form-label","fw-bold"],["type","password","id","rePassword","formControlName","rePassword","placeholder","Confirm your password",1,"form-control"],[1,"mb-4"],["for","phone",1,"form-label","fw-bold"],["type","text","id","phone","formControlName","phone","placeholder","Enter your phone number",1,"form-control"],[1,"text-center"],["type","submit",1,"btn","main-btn","btn-lg","w-100",3,"disabled"],["class","fas fa-spinner fa-spin ms-2",4,"ngIf"],["class","alert alert-danger text-center mt-3",4,"ngIf"],[1,"text-danger","small","mt-1"],[4,"ngIf"],[1,"fas","fa-spinner","fa-spin","ms-2"],[1,"alert","alert-danger","text-center","mt-3"]],template:function(i,t){if(i&1&&(n(0,"section",0)(1,"h1",1),m(2,"Register Now"),r(),n(3,"form",2),w("ngSubmit",function(){return t.handleForm()}),n(4,"div",3)(5,"label",4),m(6,"Name"),r(),g(7,"input",5),p(8,j,4,3,"div",6),r(),n(9,"div",3)(10,"label",7),m(11,"Email"),r(),g(12,"input",8),p(13,Z,3,2,"div",6),r(),n(14,"div",3)(15,"label",9),m(16,"Password"),r(),g(17,"input",10),p(18,B,3,2,"div",6),r(),n(19,"div",3)(20,"label",11),m(21,"Confirm Password"),r(),g(22,"input",12),p(23,K,3,2,"div",6),r(),n(24,"div",13)(25,"label",14),m(26,"Phone"),r(),g(27,"input",15),p(28,W,3,2,"div",6),r(),n(29,"div",16)(30,"button",17),m(31," Register "),n(32,"span"),p(33,X,1,0,"i",18),r()()()(),p(34,Y,2,1,"div",19),r()),i&2){let s,u,_,v,h;l(3),a("formGroup",t.registerForm),l(5),a("ngIf",((s=t.registerForm.get("name"))==null?null:s.invalid)&&((s=t.registerForm.get("name"))==null?null:s.touched)),l(5),a("ngIf",((u=t.registerForm.get("email"))==null?null:u.invalid)&&((u=t.registerForm.get("email"))==null?null:u.touched)),l(5),a("ngIf",((_=t.registerForm.get("password"))==null?null:_.invalid)&&((_=t.registerForm.get("password"))==null?null:_.touched)),l(5),a("ngIf",((v=t.registerForm.get("rePassword"))==null?null:v.invalid)&&((v=t.registerForm.get("rePassword"))==null?null:v.touched)),l(5),a("ngIf",((h=t.registerForm.get("phone"))==null?null:h.invalid)&&((h=t.registerForm.get("phone"))==null?null:h.touched)),l(2),a("disabled",t.registerForm.invalid),l(3),a("ngIf",t.isLoding),l(),a("ngIf",t.errorMessage)}},dependencies:[A,N,I,R,T,q,M,F,b],encapsulation:2})};export{G as RegisterComponent};
