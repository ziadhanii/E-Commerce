import{a as w}from"./chunk-3JARHXXO.js";import{Ac as O,Bc as C,Db as b,Ec as _,Gb as h,Ic as A,La as f,Mb as i,Nb as I,Ob as d,Oc as P,Pa as n,S as v,Va as p,X as g,_a as x,_b as y,ac as S,db as s,ob as l,vb as r,wb as t,xb as u,zc as E}from"./chunk-BLPEOKRJ.js";var m=class o{constructor(a){this.http=a}baseUrl="https://ecommerce.routemisr.com/api/v1";getUserOrders(a){return this.http.get(this.baseUrl+"/orders/user/"+a)}static \u0275fac=function(e){return new(e||o)(g(P))};static \u0275prov=v({token:o,factory:o.\u0275fac,providedIn:"root"})};function T(o,a){if(o&1&&(r(0,"div",20),u(1,"img",21),r(2,"div",22)(3,"p",23),i(4),t(),r(5,"p",24),i(6),t(),r(7,"p",24),i(8),t(),r(9,"p",25),i(10),t(),r(11,"p",9),i(12),t()()()),o&2){let e=a.$implicit;n(),h("alt",e.product.title),l("src",e.product.imageCover,f),n(3),I(e.product.title),n(2),d("Brand: ",e.product.brand.name,""),n(2),d("Category: ",e.product.category.name,""),n(2),d("Price: ",e.price," EGP"),n(2),d("Quantity: ",e.count,"")}}function j(o,a){if(o&1&&(r(0,"div",6)(1,"div",7)(2,"div",8)(3,"h5",9),i(4),t()(),r(5,"div",10)(6,"div",11)(7,"div",12)(8,"ul",13)(9,"li",14)(10,"strong"),i(11,"Phone : "),t(),i(12),t(),r(13,"li",14)(14,"strong"),i(15,"City : "),t(),i(16),t(),r(17,"li",14)(18,"strong"),i(19,"Payment Method : "),t(),i(20),t()()(),r(21,"div",12)(22,"ul",13)(23,"li",14)(24,"strong"),i(25,"Total Price : "),t(),i(26),t(),r(27,"li",14)(28,"strong"),i(29,"Paid : "),t(),r(30,"span",15),i(31),t()(),r(32,"li",14)(33,"strong"),i(34,"Delivered : "),t(),r(35,"span",15),i(36),t()()()()(),r(37,"p",16)(38,"strong"),i(39,"Order Date:"),t(),i(40),y(41,"date"),t()(),r(42,"div",17)(43,"h6",18),i(44,"Products:"),t(),s(45,T,13,7,"div",19),t()()()),o&2){let e=a.$implicit;n(4),d("Order ID: ",e._id,""),n(8),d(" ",e.shippingAddress.phone,""),n(4),d(" ",e.shippingAddress.city,""),n(4),d(" ",e.paymentMethodType,""),n(6),d(" ",e.totalOrderPrice," EGP"),n(4),l("ngClass",e.isPaid?"bg-success":"bg-danger"),n(),d(" ",e.isPaid?"Yes":"No"," "),n(4),l("ngClass",e.isDelivered?"bg-success":"bg-warning"),n(),d(" ",e.isDelivered?"Yes":"No"," "),n(4),d(" ",S(41,11,e.createdAt,"medium"),""),n(5),l("ngForOf",e.cartItems)}}function U(o,a){if(o&1&&(r(0,"div",2)(1,"h2",3),i(2,"Your Orders"),t(),r(3,"div",4),s(4,j,46,14,"div",5),t()()),o&2){let e=b();n(4),l("ngForOf",e.orders)}}function M(o,a){o&1&&(r(0,"div",26)(1,"p",27),i(2,"No orders found."),t()())}var D=class o{constructor(a,e){this.orderService=a;this.authService=e}orders=[];ngOnInit(){this.getOrders()}getOrders(){let a=this.authService.getUserId();a&&this.orderService.getUserOrders(a).subscribe(e=>{this.orders=e},e=>{console.error("Error fetching orders:",e)})}static \u0275fac=function(e){return new(e||o)(p(m),p(w))};static \u0275cmp=x({type:o,selectors:[["app-all-orders"]],decls:2,vars:2,consts:[["class","container py-5",4,"ngIf"],["class","text-center py-5",4,"ngIf"],[1,"container","py-5"],[1,"mb-4","fw-bold","text-uppercase","text-main"],[1,"row","gy-4"],["class","col-12",4,"ngFor","ngForOf"],[1,"col-12"],[1,"card","shadow-sm","border-0","rounded-4"],[1,"card-header","bg-main","text-white","rounded-top-4"],[1,"mb-0"],[1,"card-body","p-4"],[1,"row","mb-4"],[1,"col-md-6"],[1,"list-unstyled","mb-0"],[1,"mb-2"],[1,"badge","btn",3,"ngClass"],[1,"text-muted"],[1,"card-footer","bg-light","rounded-bottom-4","p-4"],[1,"mb-4"],["class","d-flex align-items-center gap-3 p-3 border rounded mb-3",4,"ngFor","ngForOf"],[1,"d-flex","align-items-center","gap-3","p-3","border","rounded","mb-3"],[1,"rounded-3",2,"width","90px","height","90px","object-fit","cover",3,"src","alt"],[1,"flex-grow-1"],[1,"fw-bold","mb-1"],[1,"text-muted","mb-1"],[1,"mb-1"],[1,"text-center","py-5"],[1,"text-muted","fs-4"]],template:function(e,c){e&1&&s(0,U,5,1,"div",0)(1,M,3,0,"div",1),e&2&&(l("ngIf",c.orders.length>0),n(),l("ngIf",c.orders.length===0))},dependencies:[_,A,E,O,C],encapsulation:2})};export{D as AllOrdersComponent};
